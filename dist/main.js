!function(e){var t={};function n(l){if(t[l])return t[l].exports;var o=t[l]={i:l,l:!1,exports:{}};return e[l].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,l){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(n.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(l,o,function(t){return e[t]}.bind(null,o));return l},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var l=()=>{const e=document.getElementById("accordion-two"),t=e.querySelectorAll(".panel-heading"),n=e.querySelectorAll(".panel-collapse");n[0].style.maxHeight=n[0].scrollHeight+"px";e.addEventListener("click",e=>{e.preventDefault();let l=e.target;(l=l.closest(".panel-heading"))&&t.forEach((e,t)=>{e===l&&(e=>{for(let t=0;t<n.length;t++)n[t].classList.add("in"),n[t].style.maxHeight=e===t?n[t].scrollHeight+"px":null})(t)})})};var o=()=>{const e=(e,t)=>{e.classList.contains("popup-close")?t.style.display="none":(e=e.closest(".popup-content"))||(t.style.display="none")};(()=>{const t=document.querySelectorAll("a.call-btn"),n=document.querySelector(".popup-call");t.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),n.style.display="block"})}),n.addEventListener("click",t=>{let l=t.target;e(l,n)})})();(()=>{const t=document.querySelector(".check-btn"),n=document.querySelector(".sentence .row"),l=document.querySelector(".popup-check");t.addEventListener("click",e=>{l.style.display="block"}),n.addEventListener("click",e=>{let t=e.target;(t=t.closest(".sentence-btn"))&&(l.style.display="block")}),l.addEventListener("click",t=>{let n=t.target;e(n,l)})})();(()=>{const t=document.querySelector(".popup-consultation");t.addEventListener("click",n=>{let l=n.target;e(l,t)})})()};var c=()=>{const e=document.getElementById("accordion"),t=e.querySelectorAll(".panel-heading"),n=e.querySelectorAll(".panel-collapse"),l=document.querySelectorAll(".constructor .panel-collapse .button");let o={storageBox:"Однокамерный",firstSump:["1.4 метра","1 штука"],secondSump:[],bilge:"Есть",distance:0,cost:0};n[0].style.maxHeight=n[0].scrollHeight+"px";e.addEventListener("click",e=>{let o=e.target;(o=o.closest(".panel-heading, .construct-btn"))&&(e.preventDefault(),t.forEach((e,t)=>{e===o&&(e=>{for(let t=0;t<n.length;t++)n[t].classList.add("in"),n[t].style.maxHeight=e===t?n[t].scrollHeight+"px":null})(t)}),l.forEach((e,t)=>{n[t].classList.add("in"),e===o&&t<l.length-1&&(n[t].style.maxHeight=null,n[t+1].style.maxHeight=n[t+1].scrollHeight+"px")}))});return(()=>{const e=document.getElementById("accordion"),t=document.getElementById("myonoffswitch"),n=document.querySelectorAll(".constructor .select-box select"),l=document.getElementById("myonoffswitch-two"),c=document.querySelector("#collapseFour input"),r=document.getElementById("calc-result"),s=document.querySelectorAll(".title-text"),a=document.querySelectorAll(".select-box");let d=0,i=0;!0===t.checked&&(s[1].style.display="none",a[2].style.display="none",a[3].style.display="none",d=1e4),t.addEventListener("change",e=>{!0===t.checked?(s[1].style.display="none",a[2].style.display="none",a[3].style.display="none",d=1e4,o.storageBox="Однокамерный",o.secondSump=[]):!1===t.checked&&(s[1].style.display="block",a[2].style.display="inline-block",a[3].style.display="inline-block",d=15e3,o.storageBox="Двухкамерный",o.secondSump=["1.4 метра","1 штука"])});e.addEventListener("change",e=>{let t=e.target;(t.matches("#myonoffswitch")||t.matches(".constructor .select-box select")||t.matches("#myonoffswitch-two")||t.matches("#collapseFour input"))&&(e=>{const t=n[0].options[n[0].selectedIndex].value,s=n[1].options[n[1].selectedIndex].value,a=n[2].options[n[2].selectedIndex].value,u=n[3].options[n[3].selectedIndex].value;1e4===d?(i=d=d*t*s,d=1e4,l.checked||(i-=1e3)):15e3===d&&(i=d=d*t*s*a*u,d=15e3,l.checked||(i-=2e3)),r.value=i,o.cost=i,o.distance=+c.value,l.checked?o.bilge="Есть":l.checked||(o.bilge="Нет");for(let e=0;e<2;e++)o.firstSump[e]=n[e].options[n[e].selectedIndex].textContent;if(o.secondSump.length>0)for(let e=2;e<4;e++)o.secondSump[e-2]=n[e].options[n[e].selectedIndex].textContent;console.log("calcStore: ",o)})()})})(),o};var r=e=>{const t=document.querySelector(".main-form"),n=document.querySelector(".popup-consultation form"),l=document.querySelector(".director .director-form input"),o=document.querySelector(".consultation-btn"),c=document.querySelector(".popup-consultation"),r=document.querySelectorAll(".capture-form"),s=document.getElementById("discountBtn"),a=document.querySelector(".popup-discount"),d=document.querySelector(".popup-discount .capture-form"),i=document.createElement("div");i.style.cssText="font-size: 2rem; color: red;";document.querySelectorAll("input.phone-user").forEach(e=>{e.addEventListener("input",()=>{event.target.value=event.target.value.replace(/[^+\d]/g,"")})}),t.addEventListener("submit",e=>{e.preventDefault(),t.appendChild(i),i.textContent="Загрузка...";const n=new FormData(t);let l={};n.forEach((e,t)=>{l[t]=e}),h(l).then(y).catch(m).finally(f(t))});let u=e;s.addEventListener("click",()=>{event.preventDefault(),a.style.display="block"}),a.addEventListener("click",e=>{let t=e.target;t.classList.contains("popup-close")?a.style.display="none":(t=t.closest(".popup-content"))||(a.style.display="none")}),d.addEventListener("submit",e=>{e.preventDefault(),d.appendChild(i),i.textContent="Загрузка...",new FormData(d).forEach((e,t)=>{u[t]=e}),h(u).then(y).catch(m).finally(f(d))});let p={};o.addEventListener("click",()=>{event.preventDefault(),c.style.display="block",p.userQuest=l.value}),n.addEventListener("submit",e=>{e.preventDefault(),n.appendChild(i),i.textContent="Загрузка...",new FormData(n).forEach((e,t)=>{p[t]=e}),h(p).then(y).catch(m).finally(f(n,l))}),r.forEach((e,t)=>{t!==r.length-1&&2!==t&&e.addEventListener("submit",t=>{t.preventDefault(),e.appendChild(i),i.textContent="Загрузка...";const n=new FormData(e);let l={};n.forEach((e,t)=>{l[t]=e}),h(l).then(y).catch(m).finally(f(e))})});const y=e=>{if(200!==e.status)throw new Error("status network not 200");i.textContent="Спасибо! Мы скоро с вами свяжемся!"},m=()=>{i.textContent="Что-то пошло не так...",console.error(error)},f=(e,t)=>{e.querySelectorAll("input").forEach(e=>e.value=""),t&&(t.value="")},h=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})};(()=>{const e=document.querySelectorAll(".sentence .row > div"),t=document.querySelector(".add-sentence-btn");t.addEventListener("click",n=>{e.forEach(e=>{e.classList.remove("hidden","visible-sm-block")}),t.style.display="none"})})(),l(),o(),c(),r(c())}]);